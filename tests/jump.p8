pico-8 cartridge // http://www.pico-8.com
version 16
__lua__

local gravity={
 dy=1,
 t=1,
 get=function(self)
 local g=self.dy*self.t
  if g < 10 then return g else return 10 end
 end
}

function _init()
 fps=30
 floor=116
 p={
  x=64,
  y=64,
  canjump=true
 }
end

function _update()
 local dy=0
 
 if btn(4) and p.canjump then
  dy=-10
 else
  p.canjump=false
 end

 if p.y<floor then
  gravity.t=gravity.t+0.5
  if gravity.t > 10 then p.canjump=false end
 end
 dy=dy+gravity:get()
 p.y=p.y+dy
 
 if p.y>floor then
  p.y=floor
  gravity.t=1
  p.canjump=true
 end 

 if (btn(0)) then p.x=p.x-1 end
 if (btn(1)) then p.x=p.x+1 end
end

function _draw()
 cls()
 spr(1,p.x,p.y)
 print(p.y,1,1)
end

__gfx__
00000000aaaaaaaa0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000aaaaaaaa0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700a88aa88a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000a88aa88a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000aaaaaaaa0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700aaaaaaaa0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000a888888a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000aaaaaaaa0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
